import{_ as A}from"./BaseTabs-9fbb7ce4.js";import{b as q}from"./index-7eacd46c.js";import{_ as U,a as $,c as P,E as S,d as T,u as F}from"./usePrintIndex-6dc92b59.js";import{_ as M}from"./el-input-f3c5861d.js";import{h as N,j as R,k as Y,_ as H,E as I}from"./el-table-column-6b4f9447.js";import{_ as j}from"./BaseIcon.vue_vue_type_script_setup_true_lang-908a3c23.js";import{a as z,E as G}from"./el-form-item-06868732.js";import"./el-popper-9993bae4.js";import{d as k,r as f,b as i,A as J,h as l,g as e,i as a,j as L,c as m,C as g,F as x,a as r,k as V,t as E,y as K,u as Q,q as W,o as X}from"./index-74e10c89.js";import{E as Z}from"./el-popover-a37bc20b.js";import"./el-checkbox-78b52e0a.js";import{u as ee}from"./useDateFormat-e52e24bb.js";const te={class:"flex items-center"},le=r("span",{class:"text-sm px-2"},"to",-1),ae={class:"flex items-center"},oe=r("span",{class:"text-sm px-2"},"to",-1),se={class:"!ml-auto flex space-x-3"},re=r("div",{class:"flex items-center justify-center border border-dr-border-secondary rounded-lg border-solid w-[52px] h-10 hover:border-dr-border-hover cursor-pointer"},[r("img",{src:$,alt:""})],-1),ne=r("span",{class:"text-sm"},"New Order",-1),de=k({__name:"FilterOrder",setup(w){const b=f("ALL"),c=f([{title:"All",value:"ALL"},{title:"Bread",value:"BREAD"},{title:"Cold",value:"COLD"}]),s=f({status:"",customer:"",paymentStatus:"",fromStartDate:0,toStartDate:0,fromEndDate:0,toEndDate:0,createdBy:"",approveBy:""});return(d,o)=>{const y=A,u=Y,n=P,_=z,p=S,h=G,D=T,v=N,C=R,B=M,O=U;return i(),J(O,{class:"flex items-center space-x-3"},{default:l(()=>[e(y,{border:!0,tabs:a(c),modelValue:a(b),"onUpdate:modelValue":o[0]||(o[0]=t=>L(b)?b.value=t:null)},null,8,["tabs","modelValue"]),e(n,{modelValue:a(s).status,"onUpdate:modelValue":o[1]||(o[1]=t=>a(s).status=t),placeholder:"Order status",clearable:"",class:"w-36"},{default:l(()=>[(i(),m(x,null,g(5,t=>e(u,{key:t,value:t,label:t},null,8,["value","label"])),64))]),_:1},8,["modelValue"]),e(D,null,{default:l(()=>[e(h,{"label-position":"top"},{default:l(()=>[e(_,null,{default:l(()=>[e(n,{modelValue:a(s).customer,"onUpdate:modelValue":o[2]||(o[2]=t=>a(s).customer=t),placeholder:"Customer",class:"w-full"},{default:l(()=>[(i(),m(x,null,g(10,t=>e(u,{key:t,label:t,value:t},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),e(_,null,{default:l(()=>[e(n,{modelValue:a(s).paymentStatus,"onUpdate:modelValue":o[3]||(o[3]=t=>a(s).paymentStatus=t),placeholder:"Payment status",class:"w-full"},{default:l(()=>[(i(),m(x,null,g(10,t=>e(u,{key:t,label:t,value:t},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),e(_,null,{default:l(()=>[r("div",te,[e(p,{modelValue:a(s).fromStartDate,"onUpdate:modelValue":o[4]||(o[4]=t=>a(s).fromStartDate=t),teleported:!1,type:"date",placeholder:"Pick a day",class:"flex-1"},null,8,["modelValue"]),le,e(p,{modelValue:a(s).toStartDate,"onUpdate:modelValue":o[5]||(o[5]=t=>a(s).toStartDate=t),teleported:!1,type:"date",placeholder:"Pick a day",class:"flex-1"},null,8,["modelValue"])])]),_:1}),e(_,null,{default:l(()=>[r("div",ae,[e(p,{modelValue:a(s).fromEndDate,"onUpdate:modelValue":o[6]||(o[6]=t=>a(s).fromEndDate=t),teleported:!1,type:"date",placeholder:"Pick a day",class:"flex-1"},null,8,["modelValue"]),oe,e(p,{modelValue:a(s).toEndDate,"onUpdate:modelValue":o[7]||(o[7]=t=>a(s).toEndDate=t),teleported:!1,type:"date",placeholder:"Pick a day",class:"flex-1"},null,8,["modelValue"])])]),_:1}),e(_,null,{default:l(()=>[e(n,{modelValue:a(s).createdBy,"onUpdate:modelValue":o[8]||(o[8]=t=>a(s).createdBy=t),placeholder:"Created by",class:"w-full"},{default:l(()=>[(i(),m(x,null,g(10,t=>e(u,{key:t,label:t,value:t},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),e(_,null,{default:l(()=>[e(n,{modelValue:a(s).approveBy,"onUpdate:modelValue":o[9]||(o[9]=t=>a(s).approveBy=t),placeholder:"Approve by",class:"w-full"},{default:l(()=>[(i(),m(x,null,g(10,t=>e(u,{key:t,label:t,value:t},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),r("div",se,[e(C,{placeholder:"Print",class:"w-[91px]"},{default:l(()=>[e(v,null,{default:l(()=>[V("1")]),_:1}),e(v,null,{default:l(()=>[V("2")]),_:1})]),_:1}),e(C,{placeholder:"Action",class:"w-[91px]"},{default:l(()=>[e(v,null,{default:l(()=>[V("1")]),_:1}),e(v,null,{default:l(()=>[V("2")]),_:1})]),_:1}),re,e(B,{size:"small",class:"w-[105px]"},{default:l(()=>[ne]),_:1})])]),_:1})}}}),ue="/images/cold.png",pe="/images/bread.png",ie={class:"flex items-center"},me={class:"ml-auto dot-icon"},ce=r("ul",null,[r("li",{class:"px-4 py-2 text-sm hover:text-primary hover:bg-dr-bg-primary cursor-pointer"},"Edit"),r("li",{class:"px-4 py-2 text-sm hover:text-primary hover:bg-dr-bg-primary cursor-pointer"},"Confirm"),r("li",{class:"px-4 py-2 text-sm hover:text-primary hover:bg-dr-bg-primary cursor-pointer"},"Complete"),r("li",{class:"px-4 py-2 text-sm hover:text-primary hover:bg-dr-bg-primary cursor-pointer"},"Duplicate"),r("li",{class:"px-4 py-2 text-sm hover:text-primary hover:bg-dr-bg-primary cursor-pointer"},"Cancel")],-1),_e={key:0,src:ue,alt:""},fe={key:1,src:pe,alt:""},be=k({__name:"OrderTable",props:{data:{default:()=>[]},query:{default:()=>({page:1,limit:20,total:100})},loading:{type:Boolean,default:!1}},setup(w){const b=w;return(c,s)=>{const d=I,o=j,y=Z,u=H;return i(),m("div",null,[e(u,{data:b.data,query:c.query,loading:c.loading},{default:l(()=>[e(d,{label:"#",type:"index",index:n=>a(F)(n,c.query),align:"center",width:"64px"},null,8,["index"]),e(d,{type:"selection",width:"55",align:"right"}),e(d,{label:"order code",width:"170"},{default:l(n=>[r("div",ie,[r("p",null,"DBH"+E(n.row.orderCode),1),r("div",me,[e(y,{placement:"bottom",width:120,trigger:"click","popper-class":"!px-0 !py-2"},{reference:l(()=>[e(o,{name:"three-dot",size:"20",class:"hover:text-primary"})]),default:l(()=>[ce]),_:1})])])]),_:1}),e(d,{label:"customer",prop:"customerName"}),e(d,{label:"type",prop:"type",width:"85",align:"center"},{default:l(n=>[n.row.type==="M"?(i(),m("img",_e)):(i(),m("img",fe))]),_:1}),e(d,{label:"created date",prop:"createdAt",width:"174px"},{default:l(n=>[r("span",null,E(a(ee)(n.row.createdAt,"DD:MM:YYYY HH:mm")),1)]),_:1}),e(d,{label:"items",prop:"numOfItem",align:"right",width:"91"}),e(d,{label:"total",prop:"totalPricem",align:"right",width:"126"}),e(d,{label:"status",prop:"status",align:"right",width:"127"},{default:l(n=>[r("span",{class:K(["status",n.row.status?"status-complete":"status-confirm"])},E(n.row.status?"Completed":"Confirmed"),3)]),_:1})]),_:1},8,["data","query","loading"])])}}}),ye={class:"content-block py-5"},ve={class:"px-6"},Oe=k({__name:"OrderView",setup(w){const b=Q(),c=W(),s=f([{title:"All",value:"ALL"},{title:"Today",value:"TODAY"},{title:"Month",value:"MONTH"},{title:"Later",value:"LATER"}]),d=f("ALL"),o=f([]),y=f({page:1,limit:20,total:0}),u=f(!1);X(()=>{c.query.tab&&(d.value=c.query.tab.toUpperCase()),n()});const n=async()=>{try{u.value=!0;const p=await q.getListOrder(y.value);y.value.total=25,o.value=p}catch(p){console.log(p)}finally{u.value=!1}},_=p=>{b.push({query:{tab:p.value.toLowerCase()}})};return(p,h)=>{const D=A;return i(),m("div",ye,[e(D,{modelValue:a(d),"onUpdate:modelValue":h[0]||(h[0]=v=>L(d)?d.value=v:null),tabs:a(s),class:"border-b-[1px] border-solid border-dr-border-primary px-6",onChange:_},null,8,["modelValue","tabs"]),r("div",ve,[e(de,{class:"mt-5"}),e(be,{class:"mt-5 a px-2",data:a(o),query:a(y),loading:a(u)},null,8,["data","query","loading"])])])}}});export{Oe as default};
